\section{Проектирование}
\subsection{Общая часть}
В этом разделе описана та чать проекта, которая характеризует общую структруру и взаимосвязи между индивидуальными частями разрабатываемого приложения.
Эти аспекты описываются диаграммами вариантов использования, концептуальными диаграммами классов и некоторыми сценариями.

Диаграмма прецедентов (Use case diagram, диаграмма вариантов использования)~-- диаграмма, на которой отражены отношения, 
существующие между экторами и прецедентами.
Основная задача~-- представлять собой единое средство, дающее возможность заказчику, конечному пользователю и разработчику совместно
обсуждать функциональность и поведение системы.

Сущности, с которыми взаимодействует система в процессе своей работы, называются экторами, причем каждый эктор ожидает, 
что система будет вести себя строго определенным, предсказуемым образом. В качестве экторов могут выступать человек или 
другая система, подсистема или класс, которые представляют нечто вне сущности.
Прецедент (use-case)~-- описание отдельного аспекта поведения системы с точки зрения пользователя.
В данном проекте диаграмма прецедентов выглядит так:

\begin{figure}[ht]
\centering
\includegraphics[width=18cm]{images/use.png}
\caption{Диаграмма прецедентов}
\label{fig0}
\end{figure}

На данной диаграмме[\ref{fig0}] видно, что взаимодействие игроков и все их действия осуществляются через сервер игры, который
занимается синхронизацией действий игроков(т.е. чтобы игроки видели перемещения кораблей друг друга)
и проверкой соответсвия их действий правилам игры. Под ролью пользователя на данной диаграмме понимается 
человек, который взаимодействует с данным приложением(графическим интерфрейсом программы).

Клиенту должны быть доступны возможности создания и завершения игры, а так же непосредсвенный процесс. Всё это вмете объединено под единым вариантом использования, названным <<Управление Игрой>>. Контроль произведенных операций осуществляется отдельной сущностью(сервером). Третий эктор несет вспомогательнуя роль и является своеобразным посредником между пользователем и сервером. У него должен иметься интерфейс как графический, так и для общения с серверной частью. 

Прецеденты по сути, являются действием или набором действий, выполнимых тем или иным эктором. Прецедент может быть описан разными способами: диаграммой последовательности, диаграммой кооперации или сценарием.
Рассмотрим на примере прецедента <<подключение>>(с точки зрения клиента) вариант его описания с помошью сценария.

\begin{itemize}
	\item Подключение к игре:
	\begin{itemize}
		\item Установка соединения с сервером;
		\item Игрок вводит имя;
		\item Выбор противника;
		\item Начало матча;
  	\end{itemize} 
	\item Альтернатива <<недоступность сервера>>(неудалось установить соединение): 
	\begin{itemize}
		\item сообщение об ошибке;
		\item проверка настроек соединения;
  	\end{itemize} 
	\item Альтернатива <<Своя игра>>(нет начатых игр):
	\begin{itemize}
		\item Ввести имя игры
		\item Ожидание противника
  	\end{itemize} 
\end{itemize} 

Концептуальной диаграммой классов называют такую диаграмму класов, в которой не раскрыты детальные отношения, связи, атрибуты и операции. Таким образом в этом типе диаграмм классов отражается только основные связи между обобщенными частями проекта. Первый взгляд на концептуальную диаграмму классов этого проекта можно увидеть на рисунке[\ref{fig1}].

\begin{figure}[ht]
\centering
\includegraphics[width=17cm]{images/class.png}
\caption{Концептуальная диаграмма классов а)}
\label{fig1}
\end{figure}

Проанализировав данную диаграмму, было принято решение её детализировать, выделив на ней отдельные классы и те части проекта, которые непосредственно должны реализовывать описанный интерфейс. Стоит обратить внимание, что такие классы должны быть как в клиентской, так в серверной частях[\ref{fig2}].

\begin{figure}[ht]
\centering
\includegraphics[width=9cm]{images/class1.png}
\caption{Концептуальная диаграмма классов б)}
\label{fig2}
\end{figure}

Помимо диаграммы классов представлена диаграмма активностей[\ref{fig}], на которой отражена схема совершения хода системой в целом. Главная задача этой диаграммы отобразить, что действия игрока не отображаются в графической интерфейсе на прямую и не ожидают подтверждения сервера, а вносятся тогда и только тогда, когда приходит команда от сервера. В случае неправильной команды будет отослано сообщение об ошибке. 

\begin{figure}[ht]
\centering
\includegraphics[width=15cm]{images/activitygen.png}
\caption{Схема хода игрока}
\label{fig}
\end{figure}

\newpage
\endinput
